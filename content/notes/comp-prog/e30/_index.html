---
title: Educational Codeforces Round 30 B - Balanced Substring
---
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Delon Shen" />
  <title>e30.tex</title>
  <style>
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p><a href="http://codeforces.com/problemset/problem/873/B">Link to problem</a><br />
<strong>Solution</strong><br />
The trick to this problem is to realize that a balanced range is bookended by the same difference in the number of ones and the number of zeros since that suggests that the number of zeros and ones added in that range are equal. Lets take the sample input for example: <span class="math display">\[\begin{aligned}
  \text{Index}&amp;:01234567\\
  \text{Input:}&amp;:11010111\\
  \text{Difference between number of 0 and 1}&amp;:12121234\\\end{aligned}\]</span> We see that a difference of 2 occurs 3 times, at index 1,3, and 5. That means the range 2-3, 2-5, and 4-5 are all balanced since the number of zeros and ones added in that region are equal. Thus we have our solution, the range 2-5 which is of length 4. We can also find the solution by looking at a difference of "1" which occurs at index 0 and 4. Something tricky to get right is that you need to set the minimum index for a difference of 0 to 0.<br />
<strong>Code</strong></p>
<pre><code>#include &lt;bits/stdc++.h&gt;
typedef int OwO; typedef double UwU;
#define int long long
#define double long double

using namespace std;

OwO main(){
  ios::sync_with_stdio(false);
  cin.tie(NULL);
  //input
  int n;
  cin &gt;&gt; n;
  string s;
  cin &gt;&gt; s;

  //t is the difference in number of 0 and 1
  int t=0;
  //pmap keeps track of first location with certain difference
  map&lt;int, int&gt; pmap;
  pmap[0]=0;

  int oup = 0;

  for(int x = 1; x&lt;n+1; x++){
    if(s[x-1]==&#39;1&#39;)
      t++;
    else
      t--;
    if(pmap.find(t)!=pmap.end())
      oup = max(oup, x-pmap[t]);
    else
      pmap[t]=x;
  }

  cout &lt;&lt; oup &lt;&lt; endl;
  return 0;
}</code></pre>
<p><em>Think you found a mistake? You probably did. Let me know at <a href="mailto:hi@delonshen.com">hi@delonshen.com</a> if you want.</em></p>
</body>
</html>
