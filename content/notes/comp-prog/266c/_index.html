---
title: Codeforces Round 266 (Div. 2) C - Number of Ways
---
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Delon Shen" />
  <title>266c.tex</title>
  <style>
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p><a href="http://codeforces.com/problemset/problem/466/C">Link to problem</a><br />
<strong>Solution</strong><br />
We’ll let <span class="math inline">\(S\)</span>=Sum of the Array<br />
Every segment we divide the array into must have a sum of <span class="math inline">\(S/3\)</span>. Therefore we can cout 0 for every array with <span class="math inline">\(S\mod 3\neq0\)</span>. For the other cases, we can use a prefix sum array, a, to get our solution. To do this we keep track of the number of segments that sum up to <span class="math inline">\(S/3\)</span> at each index, i. We’ll call this quantity <span class="math inline">\(t_i\)</span>. At each index, j, where the prefix sum = <span class="math inline">\(2\cdot S/3\)</span> we have <span class="math inline">\(t_j\)</span> solutions since we know there are <span class="math inline">\(t_j\)</span> ways to divide the subarray [0..j] into two segments of sum <span class="math inline">\(S/3\)</span> and that the last segment must also equals <span class="math inline">\(S/3\)</span>.<br />
<strong>Code</strong></p>
<pre><code>#include &lt;bits/stdc++.h&gt;
typedef int OwO; typedef double UwU;
#define int long long
#define double long double

using namespace std;

OwO main(){
  ios::sync_with_stdio(false);
  cin.tie(NULL);
  int n;
  cin &gt;&gt; n;
  vector&lt;int&gt; a(n+1,0);
  int oup = 0;
  for(int x = 0; x&lt;n; x++){
    int t; 
    cin &gt;&gt; t;
    a[x+1]=a[x]+t;
  }
  if(a[n]%3!=0){
    cout &lt;&lt; 0 &lt;&lt; endl;
    return 0;
  } 
  int t = 0;
  for(int x = 1; x&lt;n; x++){
    if(a[x]==2*a[n]/3)
      oup+=t;
    if(a[x]==a[n]/3)
      t++;
  }
  cout &lt;&lt; oup &lt;&lt; endl;

  return 0;
}</code></pre>
<p><em>Think you found a mistake? You probably did. Let me know at <a href="mailto:hi@delonshen.com">hi@delonshen.com</a> if you want.</em></p>
</body>
</html>
